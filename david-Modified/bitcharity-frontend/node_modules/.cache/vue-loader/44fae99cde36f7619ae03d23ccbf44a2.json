{"remainingRequest":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/CreateAssets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/CreateAssets.vue","mtime":1605457507908},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGdxbCBmcm9tICdncmFwaHFsLXRhZyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgIAogICAgZGF0YSgpewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHNjaGVtYV9uYW1lOiIiLAogICAgICAgICAgICBBc3NldE93bmVyOiIiLAogICAgICAgICAgICBOdW1iZXJPZkNvcGllczoiIiwKICAgICAgICAgICAgVGVtcGxhdGU6IiIsCiAgICAgICAgICAgIGF0dHJpYnV0ZV90YWJsZTpbXSwKICAgICAgICB9CiAgICB9LAogICAgYXBvbGxvOnsKICAgICAgICBhdHRyaWJ1dGVfdGFibGU6IHsKICAgICAgICAgICAgcXVlcnk6IGdxbGBxdWVyeSBjb2xsZWN0aW9uU2NoZW1hKCRzY2hlbWFfbmFtZTogU3RyaW5nKXsKICAgICAgICAgICAgICAgICAgICBhdG9taWNhc3NldHNfc2NoZW1hc19hZ2dyZWdhdGUod2hlcmU6IHtzY2hlbWFfbmFtZToge19lcTogJHNjaGVtYV9uYW1lfX0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgbm9kZXMgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9YCwKICAgICAgICAgICAgICAgIHZhcmlhYmxlczp7CgogICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFfbmFtZTp0aGlzLnNjaGVtYV9uYW1lCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdXBkYXRlOiBkYXRhID0+IGRhdGEuYXRvbWljYXNzZXRzX3NjaGVtYXNfYWdncmVnYXRlCiAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgCgogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgIHRoaXMuY29sbGVjdGlvbl9uYW1lID0gdGhpcy4kcm91dGUucGFyYW1zLmNvbGxlY3RuYW1lOwogICAgICB0aGlzLnNjaGVtYV9uYW1lPXRoaXMuJHJvdXRlLnBhcmFtcy5zY2hlbWFOYW1lCiAgICAgIGNvbnNvbGUubG9nKCJjb2xsZWN0aW9uIG5hbWUgaXMiICsgdGhpcy5jb2xsZWN0aW9uX25hbWUpOwogICAgICBjb25zb2xlLmxvZygidGhlIHNjaGVtYSBuYW1lIGlzIit0aGlzLnNjaGVtYV9uYW1lKTsKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAuLi5tYXBHZXR0ZXJzKFsKICAgICAgICAnZ2V0V2F4JwogICAgICBdKSwKICAgIAogICAgfSwKICAgIG1ldGhvZDp7CiAgICAgICAgYXN5bmMgQ3JlYXRlQXNzZXRzKCl7CiAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5yb3dzKXsKICAgICAgICAgICAgICAgdGhpcy5hdHRyaWJ1dGVfdGFibGUucHVzaCh7Im5hbWUiOnRoaXMucm93c1trZXldLm5hbWUsInR5cGUiOnRoaXMucm93c1trZXldLnR5cGV9KQogICAgICAgICAgIH0KICAgICAgICAgICAgY29uc29sZS5sb2coIml0IGlzICIrdGhpcy5jb2xsZWN0aW9uTmFtZSk7CiAgICAgICAgICAgIGlmKCF0aGlzLmdldFdheC5hcGkpewogICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coIk5lZWQgdG8gbG9naW4gZmlyc3QiKQogICAgICAgICAgIH0KICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICB0aGlzLnJlc3VsdD1hd2FpdCB0aGlzLmdldFdheC5hcGkudHJhbnNhY3QoewogICAgICAgICAgICAgICAgICAgYWN0aW9uczpbewogICAgICAgICAgICAgICAgICAgIGFjY291bnQ6ICdhdG9taWNhc3NldHMnLAogICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjcmVhdGVzY2hlbWEnLAogICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb246IFt7CiAgICAgICAgICAgICAgICAgICAgICAgIGFjdG9yOiB0aGlzLmdldFdheC51c2VyQWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgcGVybWlzc2lvbjonYWN0aXZlJywKICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6ZWRfbWludGVyOnRoaXMuZ2V0V2F4LnVzZXJBY2NvdW50LAogICAgICAgICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uX25hbWU6dGhpcy5jb2xsZWN0aW9uX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIGltbXV0YWJsZV9kYXRhOltdLAogICAgICAgICAgICAgICAgICAgICAgICBtdXRhYmxlX2RhdGE6W10sCiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYV9mb3JtYXQ6dGhpcy5zY2hlbWFfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgbmV3X2Fzc2V0X293bmVyOnRoaXMuQXNzZXRPd25lciwKICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hX25hbWU6dGhpcy5TY2hlbWFfbmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVfaWQ6LTEsCiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuX3RvX2JhY2s6WwoKICAgICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICB9LHsKICAgICAgICAgICAgICAgICAgIGJsb2Nrc0JlaGluZDogMywKICAgICAgICAgICAgICAgICAgIGV4cGlyZVNlY29uZHM6IDMwCiAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgIH0KICAgICAgICAgICBjYXRjaChlKXsKICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQ9ZQogICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgIH0gCiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["CreateAssets.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateAssets.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <p>name is</p>\n        <p>{{schema_name}}</p>\n        <p>{{collection_name}}</p>\n        <input v-model=\"AssetOwner\" placeholder=\"Account Name\"><br/>\n        <input v-model=\"NumberOfCopies\" placeholder=\"Number between 1-10\"><br/>\n        <input v-model=\"Template\" placeholder=\"Template\"><br/>\n        <!--<ApolloQuery :query=\"require('../graphQL/schemaImmuntableMutableData.gql')\" :variables=\"{schema_name:this.schema_name}\">\n            <template v-slot=\"{ result: { data } }\">\n                {{data.atomicassets_schemas[0].format}}\n                <div v-for=\"(item) in data.atomicassets_schemas[0].format\" :key=\"item.name\">\n                    <input type=\"text\" value=\"{{item.name}}\">:{{item.type}}\n                </div>\n            </template>\n        </ApolloQuery>\n        <b-button @click=\"CreateAssets\">Create Collection</b-button>-->\n        {{ attribute_table}}\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex';\nimport gql from 'graphql-tag';\n\nexport default {\n   \n    data(){\n        return {\n            schema_name:\"\",\n            AssetOwner:\"\",\n            NumberOfCopies:\"\",\n            Template:\"\",\n            attribute_table:[],\n        }\n    },\n    apollo:{\n        attribute_table: {\n            query: gql`query collectionSchema($schema_name: String){\n                    atomicassets_schemas_aggregate(where: {schema_name: {_eq: $schema_name}}) {\n                        nodes {\n                            format\n                        }\n                    }\n                }`,\n                variables:{\n\n                        schema_name:this.schema_name\n                },\n                update: data => data.atomicassets_schemas_aggregate\n            }\n                  \n\n    },\n    created() {\n      this.collection_name = this.$route.params.collectname;\n      this.schema_name=this.$route.params.schemaName\n      console.log(\"collection name is\" + this.collection_name);\n      console.log(\"the schema name is\"+this.schema_name);\n    },\n    computed: {\n      ...mapGetters([\n        'getWax'\n      ]),\n    \n    },\n    method:{\n        async CreateAssets(){\n              for(var key in this.rows){\n               this.attribute_table.push({\"name\":this.rows[key].name,\"type\":this.rows[key].type})\n           }\n            console.log(\"it is \"+this.collectionName);\n            if(!this.getWax.api){\n               return console.log(\"Need to login first\")\n           }\n           try {\n               this.result=await this.getWax.api.transact({\n                   actions:[{\n                    account: 'atomicassets',\n                    name: 'createschema',\n                    authorization: [{\n                        actor: this.getWax.userAccount,\n                        permission:'active',\n                    }],\n                    data: {\n                        authorized_minter:this.getWax.userAccount,\n                        collection_name:this.collection_name,\n                        immutable_data:[],\n                        mutable_data:[],\n                        schema_format:this.schema_name,\n                        new_asset_owner:this.AssetOwner,\n                        schema_name:this.Schema_name,\n                        template_id:-1,\n                        token_to_back:[\n\n                        ]\n                    },\n                }]\n               },{\n                   blocksBehind: 3,\n                   expireSeconds: 30\n               });\n           }\n           catch(e){\n               this.result=e\n               console.log(e)\n           } \n        }\n    },\n}\n</script>"]}]}