{"remainingRequest":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/CreateAssets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/CreateAssets.vue","mtime":1605379463207},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgQ3JlYXRlQXNzZXRzQm94IGZyb20gJy5jb21wb25lbnRzLycKaW1wb3J0IHsgdXNlUXVlcnkgfSBmcm9tICdAdnVlL2Fwb2xsby1jb21wb3NhYmxlJwpleHBvcnQgZGVmYXVsdCB7CiAgICBjb21wb25lbnRzOnsKICAgICAgICBDcmVhdGVBc3NldHNCb3gKICAgIH0sCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29sbGVjdGlvbm5hbWU6ICIiLAogICAgICAgICAgICBBc3NldE93bmVyOiIiLAogICAgICAgICAgICBOdW1iZXJPZkNvcGllczoiIiwKICAgICAgICAgICAgVGVtcGxhdGU6IiIsCiAgICAgICAgICAgIHNjaGVtYV9mb3JtYXQ6W10KICAgICAgICB9CiAgICB9LAogICAgY3JlYXRlZCgpIHsKICAgICAgCiAgICAgIHRoaXMuc2NoZW1hX25hbWU9dGhpcy4kcm91dGUucGFyYW1zLnNjaGVtYW5hbWU7CiAgICAgIHRoaXMuY29sbGVjdGlvbl9uYW1lID0gdGhpcy4kcm91dGUucGFyYW1zLmNvbGxlY3Rpb25uYW1lOwogICAgICBjb25zdCB7IHJlc3VsdCB9ID0gCiAgICAgIHVzZVF1ZXJ5KGdxbGBxdWVyeSBjb2xsZWN0aW9uU2NoZW1hKCRzY2hlbWFfbmFtZTogU3RyaW5nISkgewogICAgICAgICAgICBhdG9taWNhc3NldHNfc2NoZW1hcyh3aGVyZToge3NjaGVtYV9uYW1lOiB7X2VxOiAkc2NoZW1hX25hbWV9fSkgewogICAgICAgICAgICAgICAgc2NoZW1hX25hbWUKICAgICAgICAgICAgICAgIGZvcm1hdAogICAgICAgICAgICB9CiAgICAgICAgfWAsewogICAgICAgICAgICBzY2hlbWFfbmFtZTp0aGlzLnNjaGVtYV9uYW1lLAogICAgICAgIH0pCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICAgJ2dldFdheCcKICAgICAgXSksCiAgICAgIGNvbGxlY3RubmFtZTpmdW5jdGlvbigpewogICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbm5hbWUKICAgICAgfQogICAgfSwKICAgIG1ldGhvZDp7CiAgICAgICAgYXN5bmMgQ3JlYXRlQXNzZXRzKCl7CiAgICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5yb3dzKXsKICAgICAgICAgICAgICAgdGhpcy5zY2hlbWFfZm9ybWF0LnB1c2goeyJuYW1lIjp0aGlzLnJvd3Nba2V5XS5uYW1lLCJ0eXBlIjp0aGlzLnJvd3Nba2V5XS50eXBlfSkKICAgICAgICAgICB9CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpdCBpcyAiK3RoaXMuY29sbGVjdGlvbk5hbWUpOwogICAgICAgICAgICBpZighdGhpcy5nZXRXYXguYXBpKXsKICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCJOZWVkIHRvIGxvZ2luIGZpcnN0IikKICAgICAgICAgICB9CiAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQ9YXdhaXQgdGhpcy5nZXRXYXguYXBpLnRyYW5zYWN0KHsKICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6W3sKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAnYXRvbWljYXNzZXRzJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3JlYXRlc2NoZW1hJywKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbewogICAgICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcy5nZXRXYXgudXNlckFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246J2FjdGl2ZScsCiAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpemVkX21pbnRlcjp0aGlzLmdldFdheC51c2VyQWNjb3VudCwKICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbl9uYW1lOnRoaXMuY29sbGVjdGlvbl9uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBpbW11dGFibGVfZGF0YTpbXSwKICAgICAgICAgICAgICAgICAgICAgICAgbXV0YWJsZV9kYXRhOltdLAogICAgICAgICAgICAgICAgICAgICAgICBzY2hlbWFfZm9ybWF0OnRoaXMuc2NoZW1hX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19hc3NldF9vd25lcjp0aGlzLkFzc2V0T3duZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYV9uYW1lOnRoaXMuU2NoZW1hX25hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlX2lkOi0xLAogICAgICAgICAgICAgICAgICAgICAgICB0b2tlbl90b19iYWNrOlsKCiAgICAgICAgICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgfSx7CiAgICAgICAgICAgICAgICAgICBibG9ja3NCZWhpbmQ6IDMsCiAgICAgICAgICAgICAgICAgICBleHBpcmVTZWNvbmRzOiAzMAogICAgICAgICAgICAgICB9KTsKICAgICAgICAgICB9CiAgICAgICAgICAgY2F0Y2goZSl7CiAgICAgICAgICAgICAgIHRoaXMucmVzdWx0PWUKICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSkKICAgICAgICAgICB9IAogICAgICAgIH0KICAgIH0KICAgIAp9Cg=="},{"version":3,"sources":["CreateAssets.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"CreateAssets.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        Schema:{{this.schema_name}}\n        collectionname:{{this.collection_name}}<br/>\n        <input v-model=\"AssetOwner\" placeholder=\"Account Name\"><br/>\n        <input v-model=\"NumberOfCopies\" placeholder=\"Number between 1-10\"><br/>\n        <input v-model=\"Template\" placeholder=\"Template\"><br/>\n         <!--<ApolloQuery :query=\"require('../graphQL/schemaImmuntableMutableData.gql')\" :variables=\"{schema_name:this.schema_name}\">\n            <template v-slot=\"{ result: { data } }\">\n                {{data.atomicassets_schemas[0].format}}\n                <div v-for=\"(item) in data.atomicassets_schemas[0].format\" :key=\"item.name\">\n                    <input type=\"text\" value=\"{{item.name}}\">:{{item.type}}\n                </div>\n            </template>\n        </ApolloQuery>-->\n        <b-button @click=\"CreateAssets\">Create Collection</b-button>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\nimport CreateAssetsBox from '.components/'\nimport { useQuery } from '@vue/apollo-composable'\nexport default {\n    components:{\n        CreateAssetsBox\n    },\n    data(){\n        return {\n            collectionname: \"\",\n            AssetOwner:\"\",\n            NumberOfCopies:\"\",\n            Template:\"\",\n            schema_format:[]\n        }\n    },\n    created() {\n      \n      this.schema_name=this.$route.params.schemaname;\n      this.collection_name = this.$route.params.collectionname;\n      const { result } = \n      useQuery(gql`query collectionSchema($schema_name: String!) {\n            atomicassets_schemas(where: {schema_name: {_eq: $schema_name}}) {\n                schema_name\n                format\n            }\n        }`,{\n            schema_name:this.schema_name,\n        })\n    },\n    computed: {\n      ...mapGetters([\n        'getWax'\n      ]),\n      collectnname:function(){\n          return this.collectionname\n      }\n    },\n    method:{\n        async CreateAssets(){\n              for(var key in this.rows){\n               this.schema_format.push({\"name\":this.rows[key].name,\"type\":this.rows[key].type})\n           }\n            console.log(\"it is \"+this.collectionName);\n            if(!this.getWax.api){\n               return console.log(\"Need to login first\")\n           }\n           try {\n               this.result=await this.getWax.api.transact({\n                   actions:[{\n                    account: 'atomicassets',\n                    name: 'createschema',\n                    authorization: [{\n                        actor: this.getWax.userAccount,\n                        permission:'active',\n                    }],\n                    data: {\n                        authorized_minter:this.getWax.userAccount,\n                        collection_name:this.collection_name,\n                        immutable_data:[],\n                        mutable_data:[],\n                        schema_format:this.schema_name,\n                        new_asset_owner:this.AssetOwner,\n                        schema_name:this.Schema_name,\n                        template_id:-1,\n                        token_to_back:[\n\n                        ]\n                    },\n                }]\n               },{\n                   blocksBehind: 3,\n                   expireSeconds: 30\n               });\n           }\n           catch(e){\n               this.result=e\n               console.log(e)\n           } \n        }\n    }\n    \n}\n</script>"]}]}