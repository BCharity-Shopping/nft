{"remainingRequest":"/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/src/components/Login.vue","mtime":1604710154626},{"path":"/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/bch/david-version2/bitcharity-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIHdheGpzIGZyb20gIkB3YXhpby93YXhqcy9kaXN0IgpleHBvcnQgZGVmYXVsdHsKICBuYW1lOiAnTG9naW4nLAogIGNvbXBvbmVudHM6ewoKICB9LAogIGRhdGEoKXsKICAgIHJldHVybiB7CiAgICAgIHVzZXJBY2NvdW50OiAiIiwKICAgICAgcHViS2V5czoiIiwKICAgICAgd2F4OiBuZXcgd2F4anMuV2F4SlMoJ2h0dHBzOi8vd2F4LmdyZXltYXNzLmNvbScsIG51bGwsIG51bGwsIGZhbHNlKSwKICAgICAgcmVzdWx0OiAiIiwKICAgICAgdXNlck5hbWU6ICIiLAogICAgICBsb2dpblN0YXR1czogIlVzZXIgaXMgbm90IGxvZ2dlZCBpbiIsCiAgICAgIGFpZDoxMDk5NTEyNDYzMzEwbiwKICAgICAgbWFya2V0TmFtZTogImw1b2F3LndhbTAwMSIKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNheSgpIHsKICAgICAgYWxlcnQoYEhlbGxvYCkKICAgIH0sCiAgICBhc3luYyBsb2dpbigpIHsKICAgICAgdHJ5IHsKICAgICAgICBjb25zb2xlLmxvZygibG9nZ2luZyBpbiB0aHJvdWdoIFdDVyIpCiAgICAgICAgdGhpcy51c2VyQWNjb3VudCA9IGF3YWl0IHRoaXMud2F4LmxvZ2luKCkKICAgICAgICBjb25zb2xlLmxvZyh0aGlzLndheCk7CiAgICAgICAgdGhpcy5wdWJLZXlzID0gdGhpcy53YXgucHViS2V5cwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHViS2V5cyk7CiAgICAgICAgdGhpcy51c2VyTmFtZSA9IHRoaXMud2F4LnVzZXJBY2NvdW50CiAgICAgICAgY29uc29sZS5sb2codGhpcy51c2VyTmFtZSk7CiAgICAgICAgdGhpcy5sb2dpblN0YXR1cyA9IGBVc2VyIGhhcyBhcHByb3ZlZCBkQXBwIGFjY2Vzc2A7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzdG9yZVdheCcsdGhpcy53YXgpCiAgICAgICAgdGhpcy4kZW1pdChgbG9nZ2VkLWluYCkKICAgICAgfQogICAgICBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgdGhpcy5sb2dpblN0YXR1cyA9IGBVc2VyIGRlbmllZCBkQXBwIGFjY2Vzc2AKICAgICAgfQogICAgfSwKICAgIGxvZ291dCgpIHsKICAgICAgdGhpcy51c2VyQWNjb3VudD0iIiwKICAgICAgdGhpcy5wdWJLZXlzPSIiLAogICAgICB0aGlzLndheCA9IG5ldyB3YXhqcy5XYXhKUygnaHR0cHM6Ly93YXguZ3JleW1hc3MuY29tJywgbnVsbCwgbnVsbCwgZmFsc2UpLAogICAgICB0aGlzLnVzZXJOYW1lID0gIiIsCiAgICAgIHRoaXMubG9naW5TdGF0dXMgPSAiVXNlciBpcyBub3QgbG9nZ2VkIGluIgogICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ3N0b3JlV2F4JykKICAgICAgdGhpcy4kZW1pdCgnbG9nZ2VkLWluJykKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["\n<template>\n  <div class=\"login-block\">\n    <div class=\"login-button\" v-if='userAccount==\"\"'>\n      <button @click=\"login\">Login</button>\n    </div>\n    <div class=\"account-info\" v-if='userAccount!=\"\"'>\n      <b-dropdown id=\"account-dropdown\" :text=\"userAccount\">\n        <b-dropdown-item :to=\"{ name: 'Profile', params: { account_name:userAccount, tab:'inventory' }}\">Inventory</b-dropdown-item>\n        <b-dropdown-item :to=\"{ name: 'Profile', params: { account_name:userAccount, tab:'sales' }}\">My Sales</b-dropdown-item>\n        <b-dropdown-item>Notify Me</b-dropdown-item>\n        <b-dropdown-item @click=\"logout\">Logout</b-dropdown-item>\n      </b-dropdown>\n    </div>\n    <div class=\"login-status\">\n      <p>Status: {{ loginStatus }}</p>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as waxjs from \"@waxio/waxjs/dist\"\nexport default{\n  name: 'Login',\n  components:{\n\n  },\n  data(){\n    return {\n      userAccount: \"\",\n      pubKeys:\"\",\n      wax: new waxjs.WaxJS('https://wax.greymass.com', null, null, false),\n      result: \"\",\n      userName: \"\",\n      loginStatus: \"User is not logged in\",\n      aid:1099512463310n,\n      marketName: \"l5oaw.wam001\"\n    }\n  },\n  methods: {\n    say() {\n      alert(`Hello`)\n    },\n    async login() {\n      try {\n        console.log(\"logging in through WCW\")\n        this.userAccount = await this.wax.login()\n        console.log(this.wax);\n        this.pubKeys = this.wax.pubKeys\n        console.log(this.pubKeys);\n        this.userName = this.wax.userAccount\n        console.log(this.userName);\n        this.loginStatus = `User has approved dApp access`;\n        this.$store.commit('storeWax',this.wax)\n        this.$emit(`logged-in`)\n      }\n      catch (e) {\n        console.log(e)\n        this.loginStatus = `User denied dApp access`\n      }\n    },\n    logout() {\n      this.userAccount=\"\",\n      this.pubKeys=\"\",\n      this.wax = new waxjs.WaxJS('https://wax.greymass.com', null, null, false),\n      this.userName = \"\",\n      this.loginStatus = \"User is not logged in\"\n      this.$store.commit('storeWax')\n      this.$emit('logged-in')\n      this.$router.push('/')\n      }\n  }\n}\n\n</script>\n\n<style scoped>\n\n</style>"]}]}