{"remainingRequest":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/babel-loader/lib/index.js!/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/TradeOffer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/TradeOffer.vue","mtime":1609218731047},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1609218723950},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/babel-loader/lib/index.js","mtime":1609218723359},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1609218723950},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js","mtime":1609218730647}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBBc3NldFNtYWxsQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvQXNzZXRTbWFsbENhcmQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUcmFkZU9mZmVyJywKICBwcm9wczogWydhY2NvdW50X25hbWUnLCAncm9sZSddLAogIGNvbXBvbmVudHM6IHsKICAgIEFzc2V0U21hbGxDYXJkOiBBc3NldFNtYWxsQ2FyZAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG93bmVyOiB0aGlzLmFjY291bnRfbmFtZSwKICAgICAgc2VsZWN0ZWRBc3NldHNfc2VuZGVyOiBbXSwKICAgICAgc2VsZWN0ZWRBc3NldHNfcmVjZWl2ZXI6IFtdLAogICAgICBrZXk6IDAsCiAgICAgIHNlbGVjdGVkQXNzZXRzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZU9mZmVyQXNzZXQ6IGZ1bmN0aW9uIHRvZ2dsZU9mZmVyQXNzZXQoYXNzZXRfaWQpIHsKICAgICAgdmFyIGlkID0gImFzc2V0IiArIGFzc2V0X2lkICsgdGhpcy5yb2xlOwoKICAgICAgaWYgKHRoaXMucm9sZSA9PT0gJ3NlbmRlcicpIHsKICAgICAgICBjb25zb2xlLmxvZygic2VuZGVyIGJsb2NrIGlzIGV4ZWN1dGVkIiArIHRoaXMucm9sZSk7CgogICAgICAgIGlmICh0aGlzLnNlbGVjdGVkQXNzZXRzX3NlbmRlci5pbmNsdWRlcyhhc3NldF9pZCkpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBc3NldHNfc2VuZGVyLnNwbGljZSh0aGlzLnNlbGVjdGVkQXNzZXRzX3NlbmRlci5pbmRleE9mKGFzc2V0X2lkKSwgMSk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NOYW1lID0gInVuc2VsZWN0ZWQiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygidGhlIGFzc2V0IGlkIGlzIiArIGFzc2V0X2lkKTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBc3NldHNfc2VuZGVyLnB1c2goYXNzZXRfaWQpOwogICAgICAgICAgY29uc29sZS5sb2coInNlbmRlciBpcyAiICsgdGhpcy5zZWxlY3RlZEFzc2V0c19zZW5kZXIpOwogICAgICAgICAgY29uc29sZS5sb2coInNlbmRlciBsZW5ndGggaXMgIiArIHRoaXMuc2VsZWN0ZWRBc3NldHNfc2VuZGVyLmxlbmd0aCk7CiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NOYW1lID0gInNlbGVjdGVkIjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLnJvbGUgIT09ICdzZW5kZXInKSB7CiAgICAgICAgY29uc29sZS5sb2coIm5vbiBzZW5kZXIgYmxvY2sgZXhlY3V0ZWQiKTsKCiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRBc3NldHNfcmVjZWl2ZXIuaW5jbHVkZXMoYXNzZXRfaWQpKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkQXNzZXRzX3JlY2VpdmVyLnNwbGljZSh0aGlzLnNlbGVjdGVkQXNzZXRzX3JlY2VpdmVyLmluZGV4T2YoYXNzZXRfaWQpLCAxKTsKICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5jbGFzc05hbWUgPSAidW5zZWxlY3RlZCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBc3NldHNfcmVjZWl2ZXIucHVzaChhc3NldF9pZCk7CiAgICAgICAgICBjb25zb2xlLmxvZygicmVjZWl2ZXIgaXMgIiArIHRoaXMuc2VsZWN0ZWRBc3NldHNfcmVjZWl2ZXIpOwogICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmNsYXNzTmFtZSA9ICJzZWxlY3RlZCI7CiAgICAgICAgfQogICAgICB9IC8vY29uc29sZS5sb2coImNsaWNrZWQgIiArIGFzc2V0X2lkICsgIiBvbiAiICsgdGhpcy5yb2xlKTsKICAgICAgLy9jb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkQXNzZXRzKTsKCiAgICB9LAogICAgY2xpY2s6IGZ1bmN0aW9uIGNsaWNrKCkgewogICAgICB0aGlzLnNlbGVjdGVkQXNzZXRzX3JlY2VpdmVyLnB1c2godGhpcy5vd25lcik7CiAgICAgIGNvbnNvbGUubG9nKCJ0aGlzIHJlY2VpdmVyIGlzIiArIHRoaXMuc2VsZWN0ZWRBc3NldHNfcmVjZWl2ZXIpOwogICAgICBjb25zb2xlLmxvZygidGhpcyBzZW5kZXIgaXMgIiArIHRoaXMuc2VsZWN0ZWRBc3NldHNfc2VuZGVyKTsgLy9jb25zb2xlLmxvZyh0aGlzLnNlbGVjdGVkQXNzZXRzX3NlbmRlci5sZW5ndGgpOwogICAgICAvL2NvbnNvbGUubG9nKCJzZWxlY3RlZCBhc3NldCBpcyAiK3RoaXMuc2VsZWN0ZWRBc3NldHNfcmVjZWl2ZXIpOwoKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRBc3NldHM7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbzogZnVuY3Rpb24gbygpIHsKICAgICAgY29uc29sZS5sb2coIml0IGlzICIgKyB0aGlzLm93bmVyKTsKICAgICAgcmV0dXJuIHRoaXMub3duZXI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["TradeOffer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,cAAA,MAAA,iCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,KAAA,EAAA,CAAA,cAAA,EAAA,MAAA,CAFA;AAGA,EAAA,UAAA,EAAA;AACA,IAAA,cAAA,EAAA;AADA,GAHA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KAAA,YADA;AAEA,MAAA,qBAAA,EAAA,EAFA;AAGA,MAAA,uBAAA,EAAA,EAHA;AAIA,MAAA,GAAA,EAAA,CAJA;AAKA,MAAA,cAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,gBADA,4BACA,QADA,EACA;AACA,UAAA,EAAA,GAAA,UAAA,QAAA,GAAA,KAAA,IAAA;;AACA,UAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,6BAAA,KAAA,IAAA;;AACA,YAAA,KAAA,qBAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,eAAA,qBAAA,CAAA,MAAA,CAAA,KAAA,qBAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,CAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,EAAA,EAAA,SAAA,GAAA,YAAA;AACA,SAHA,MAIA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,QAAA;AACA,eAAA,qBAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,eAAA,KAAA,qBAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,sBAAA,KAAA,qBAAA,CAAA,MAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,EAAA,EAAA,SAAA,GAAA,UAAA;AACA;AACA;;AACA,UAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,2BAAA;;AACA,YAAA,KAAA,uBAAA,CAAA,QAAA,CAAA,QAAA,CAAA,EAAA;AACA,eAAA,uBAAA,CAAA,MAAA,CAAA,KAAA,uBAAA,CAAA,OAAA,CAAA,QAAA,CAAA,EAAA,CAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,EAAA,EAAA,SAAA,GAAA,YAAA;AACA,SAHA,MAIA;AACA,eAAA,uBAAA,CAAA,IAAA,CAAA,QAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,iBAAA,KAAA,uBAAA;AACA,UAAA,QAAA,CAAA,cAAA,CAAA,EAAA,EAAA,SAAA,GAAA,UAAA;AACA;AACA,OA3BA,CA6BA;AACA;;AACA,KAhCA;AAiCA,IAAA,KAjCA,mBAiCA;AACA,WAAA,uBAAA,CAAA,IAAA,CAAA,KAAA,KAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,qBAAA,KAAA,uBAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,oBAAA,KAAA,qBAAA,EAHA,CAIA;AACA;;AACA,aAAA,KAAA,cAAA;AACA;AAxCA,GAfA;AA0DA,EAAA,QAAA,EAAA;AACA,IAAA,CAAA,EAAA,aAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,WAAA,KAAA,KAAA;AACA,aAAA,KAAA,KAAA;AACA;AAJA;AA1DA,CAAA","sourcesContent":["<template>\n  <div class=\"trade-offer\">\n    <div>\n      <h4>{{ this.account_name }}</h4>\n    </div>\n    <div>\n      <ApolloQuery\n      :query=\"require('../graphQL/getAccountInventory.gql')\"\n      :variables=\"{owner:o}\"\n      >\n        <template v-slot=\"{ result: { loading, error, data } }\">\n          <!-- Loading -->\n          <div v-if=\"loading\" class=\"loading apollo\">Loading...</div>\n\n          <!-- Error -->\n          <div v-else-if=\"error\" class=\"error apollo\">An error occurred</div>\n\n          <!-- Result -->\n          <div v-else-if=\"data\" class=\"result apollo\">\n            <div v-if=\"data.atomicassets_assets.length!=0\">\n              <div class=\"cards\">\n                <div v-for=\"asset in data.atomicassets_assets\" :key=\"asset.asset_id\">\n                  <AssetSmallCard class=\"unselected\" :id=\"'asset'+asset.asset_id+role\" :asset_id=\"asset.asset_id\" :asset=\"asset\" @click.native=\"toggleOfferAsset(asset.asset_id)\"/>\n                </div>\n              </div>\n            </div>\n          </div>\n          <!-- No result -->\n          <div v-else class=\"no-result apollo\">No result :(</div>\n        </template>\n      </ApolloQuery>\n  </div>\n  </div>\n</template>\n\n<script>\nimport AssetSmallCard from '@/components/AssetSmallCard.vue'\nexport default {\n  name: 'TradeOffer',\n  props: ['account_name','role'],\n  components: {\n    AssetSmallCard\n  },\n  data () {\n    return {\n      owner: this.account_name,\n      selectedAssets_sender:[],\n      selectedAssets_receiver:[],\n      key: 0,\n      selectedAssets:[]\n    }\n  },\n  methods: {\n    toggleOfferAsset(asset_id) {\n      var id = \"asset\" + asset_id + this.role\n      if(this.role==='sender'){\n        console.log(\"sender block is executed\"+this.role);\n        if(this.selectedAssets_sender.includes(asset_id)){\n          this.selectedAssets_sender.splice(this.selectedAssets_sender.indexOf(asset_id), 1)\n          document.getElementById(id).className = \"unselected\"\n        }\n        else {\n          console.log(\"the asset id is\"+asset_id);\n          this.selectedAssets_sender.push(asset_id)\n          console.log(\"sender is \"+this.selectedAssets_sender);\n          console.log(\"sender length is \"+this.selectedAssets_sender.length)\n          document.getElementById(id).className = \"selected\"\n        }\n      }\n      if(this.role!=='sender'){\n        console.log(\"non sender block executed\")\n        if(this.selectedAssets_receiver.includes(asset_id)){\n          this.selectedAssets_receiver.splice(this.selectedAssets_receiver.indexOf(asset_id), 1)\n          document.getElementById(id).className = \"unselected\"\n        }\n         else {\n          this.selectedAssets_receiver.push(asset_id)\n          console.log(\"receiver is \"+this.selectedAssets_receiver);\n          document.getElementById(id).className = \"selected\"\n        }\n      }\n      \n      //console.log(\"clicked \" + asset_id + \" on \" + this.role);\n      //console.log(this.selectedAssets);\n    },\n    click(){\n      this.selectedAssets_receiver.push(this.owner);\n      console.log(\"this receiver is\"+this.selectedAssets_receiver);\n      console.log(\"this sender is \"+this.selectedAssets_sender);\n      //console.log(this.selectedAssets_sender.length);\n      //console.log(\"selected asset is \"+this.selectedAssets_receiver);\n      return this.selectedAssets;\n    }\n    \n  },\n  computed: {\n    o: function() {\n      console.log(\"it is \"+this.owner)\n      return this.owner\n    }\n  }\n}\n</script>\n\n<style scoped>\n.cards {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-around;\n}\n.unselected {\n  background-color: transparent;\n  box-shadow: 0px 0px 10px 1px #262626;\n  border-radius: 15px;\n}\n.selected {\n  background-color: transparent;\n  box-shadow: 0px 0px 10px 1px orange;\n  border-radius: 15px;\n}\n</style>"],"sourceRoot":"src/components"}]}