{"remainingRequest":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/CreateSchema.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/src/components/CreateSchema.vue","mtime":1605120212019},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/davidshen/Desktop/BlockChain/Bcharity-Version2/david-Modified/bitcharity-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTonY3JlYXRlU2NoZW1hJywKICAgIHByb3BzOlsnd2F4JywnYXNzZXRJRCddLAogICAgZGF0YSgpewogICAgICAgIAogICAgICAgIHJldHVybnsKICAgICAgICAKICAgICAgICAgICAgcm93czpbXSwKICAgICAgICAgICAgY291bnRGaXJzdGJveElucHV0SUQ6MCwKICAgICAgICAgICAgY291bnRTZWNvbmRib3hJbnB1dElEOjAsCiAgICAgICAgICAgIFNjaGVtYV9uYW1lOiIiLAogICAgICAgICAgICBzY2hlbWFmb3JtYXQ6W3sKICAgICAgICAgICAgICAgICJuYW1lIjoibmFtZSIsCiAgICAgICAgICAgICAgICAidHlwZSI6InN0cmluZyIKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgIm5hbWUiOiJpbWciLAogICAgICAgICAgICAgICAgICAidHlwZSI6ImltYWdlIgogICAgICAgICAgICAgIH1dCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgIC4uLm1hcEdldHRlcnMoWwogICAgICAgICdnZXRXYXgnCiAgICAgIF0pLAogICAgICBjb2xsZWN0aW9ubmFtZTpmdW5jdGlvbigpewogICAgICAgICAgcmV0dXJuIHRoaXMuY29sbGVjdGlvbm5hbWUKICAgICAgfSwKICAgICAgc2NoZW1hRm9ybWF0OmZ1bmN0aW9uKCl7CiAgICAgICAgIHJldHVybiB0aGlzLnNjaGVtYWZvcm1hdDsKICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6ewogICAgICAgIGFkZFJvdzogZnVuY3Rpb24oKXsKICAgICAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpOwogICAgICAgICAgICAgICAgICAgIHRoaXMucm93cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGU6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDaG9vc2UgRmlsZScKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtCiAgICAgICAgfSwKICAgICAgICByZW1vdmVFbGVtZW50OiBmdW5jdGlvbihpbmRleCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMucm93cy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIH0sCiAgICAgICAgIHNldEZpbGVuYW1lOiBmdW5jdGlvbihldmVudCwgcm93KSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBldmVudC50YXJnZXQuZmlsZXNbMF07CiAgICAgICAgICAgICAgICAgICAgcm93LmZpbGUgPSBmaWxlCiAgICAgICAgfSwKICAgICAgIGFzeW5jIENyZWF0ZVNjaGVtYSgpewogICAgICAgICAgICBpZighdGhpcy5nZXRXYXguYXBpKXsKICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCJOZWVkIHRvIGxvZ2luIGZpcnN0IikKICAgICAgICAgICB9CiAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQ9YXdhaXQgdGhpcy5nZXRXYXguYXBpLnRyYW5zYWN0KHsKICAgICAgICAgICAgICAgICAgIGFjdGlvbnM6W3sKICAgICAgICAgICAgICAgICAgICBhY2NvdW50OiAnYXRvbWljYXNzZXRzJywKICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY3JlYXRlc2NoZW1hJywKICAgICAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uOiBbewogICAgICAgICAgICAgICAgICAgICAgICBhY3RvcjogdGhpcy53YXgudXNlckFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHBlcm1pc3Npb246J2FjdGl2ZScsCiAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICBhdXRob3JpemVkX2NyZWF0b3I6dGhpcy5nZXRXYXgudXNlckFjY291bnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fbmFtZTp0aGlzLmNvbGxlY3Rpb25uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBTY2hlbWFfbmFtZTp0aGlzLnNjaGVtYUZvcm1hdCwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgYmxvY2tCZWhpbmQ6IDMsCiAgICAgICAgICAgICAgICAgICBleHBpcmVTZWNvbmQ6IDMwCiAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMucmVzdWx0KTsKICAgICAgICAgICAgICAgY29uc29sZS5sb2coIlRISVMgQVVUSE9SIElTICIrdGhpcy5hdXRob3IpOwogICAgICAgICAgIH0KICAgICAgICAgICBjYXRjaChlKXsKICAgICAgICAgICAgICAgdGhpcy5yZXN1bHQ9ZQogICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgIH0gICAgICAgCiAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["CreateSchema.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2CA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateSchema.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <p>{{getWax}}</p>\n        <p>Create Schema</p>\n        <p>Schema_name</p>\n        <input v-model=\"Schema_name\" placeholder=\"Schema name\">\n        <p>Attribute Name</p><br />\n        <p>name</p><br />\n        <p>img</p>\n        <p>Attribute Type</p><br />\n        <p>text</p><br />\n        <p>img</p>\n        <table class=\"table\">\n            <thead>\n                <tr>\n                    <td><strong>Title</strong></td>\n                    <td><strong>Description</strong></td>\n                    <td><strong>File</strong></td>\n                    <td></td>\n                    <tbody>\n                        <tr :v-for=\"(row, index) in rows\" :key=\"row.Title\">\n                            <td><input type=\"text\" v-model=\"row.Title\"></td>\n                            <td><input type=\"text\" v-model=\"row.description\"></td>\n                            <td>\n                                <label class=\"fileContainer\">\n                                    {{row.file.name}}\n                                    <input type=\"file\" @change=\"setFilename($event, row)\" :id=\"index\">\n                                </label>\n                            </td>\n                            <td>\n                                <a v-on:click=\"removeElement(index);\" style=\"cursor: pointer\">Remove</a>\n                            </td>\n                        </tr>\n                    </tbody>\n                </tr>\n            </thead>\n        </table>\n        <div>\n            <button class=\"button btn-primary\" @click=\"addRow\">Add row</button>\n        </div>\n    </div>\n</template>\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n    name:'createSchema',\n    props:['wax','assetID'],\n    data(){\n        \n        return{\n        \n            rows:[],\n            countFirstboxInputID:0,\n            countSecondboxInputID:0,\n            Schema_name:\"\",\n            schemaformat:[{\n                \"name\":\"name\",\n                \"type\":\"string\"\n              },\n              {\n                  \"name\":\"img\",\n                  \"type\":\"image\"\n              }]\n        }\n    },\n    computed: {\n      ...mapGetters([\n        'getWax'\n      ]),\n      collectionname:function(){\n          return this.collectionname\n      },\n      schemaFormat:function(){\n         return this.schemaformat;\n      }\n    },\n    methods:{\n        addRow: function(){\n            var elem = document.createElement('tr');\n                    this.rows.push({\n                        title: \"\",\n                        description: \"\",\n                        file: {\n                            name: 'Choose File'\n                        }\n                    });\n                    return elem\n        },\n        removeElement: function(index) {\n                    this.rows.splice(index, 1);\n        },\n         setFilename: function(event, row) {\n                    var file = event.target.files[0];\n                    row.file = file\n        },\n       async CreateSchema(){\n            if(!this.getWax.api){\n               return console.log(\"Need to login first\")\n           }\n           try {\n               this.result=await this.getWax.api.transact({\n                   actions:[{\n                    account: 'atomicassets',\n                    name: 'createschema',\n                    authorization: [{\n                        actor: this.wax.userAccount,\n                        permission:'active',\n                    }],\n                    data: {\n                        authorized_creator:this.getWax.userAccount,\n                        collection_name:this.collectionname,\n                        Schema_name:this.schemaFormat,\n                    },\n                   }]\n               },\n               {\n                   blockBehind: 3,\n                   expireSecond: 30\n               })\n               console.log(this.result);\n               console.log(\"THIS AUTHOR IS \"+this.author);\n           }\n           catch(e){\n               this.result=e\n               console.log(e)\n           }       \n       }\n    }\n}\n</script>"]}]}